{% extends 'admin.html' %}

{% block admin %}
<h2>Создать продукт</h2>

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <!-- Категория -->
    <div class="form-group">
        <label for="category">Категория</label>
        <select name="category" id="category" class="form-control" onchange="this.form.submit()">
            <option value="">Выберите категорию</option>
            {% for category in categories %}
                <option value="{{ category.id }}" {% if category.id == category_id %}selected{% endif %}>{{ category.name }}</option>
            {% endfor %}
        </select>
    </div>

    <!-- Название продукта -->
    <div class="form-group">
        <label for="name">Название продукта</label>
        <input type="text" name="name" id="name" class="form-control" required>
    </div>

    <!-- Описание -->
    <div class="form-group">
        <label for="description">Описание</label>
        <textarea name="description" id="description" class="form-control" required></textarea>
    </div>

    <!-- Цена -->
    <div class="form-group">
        <label for="price">Цена</label>
        <input type="number" name="price" id="price" class="form-control" required>
    </div>

    <!-- Изображения -->
    <div class="form-group">
        <label for="image">Изображение 1</label>
        <input type="file" name="image" id="image" class="form-control">
    </div>
    <div class="form-group">
        <label for="image2">Изображение 2</label>
        <input type="file" name="image2" id="image2" class="form-control">
    </div>
    <div class="form-group">
        <label for="image3">Изображение 3</label>
        <input type="file" name="image3" id="image3" class="form-control">
    </div>
    <div class="form-group">
        <label for="image4">Изображение 4</label>
        <input type="file" name="image4" id="image4" class="form-control">
    </div>

    <!-- Атрибуты -->
    {% if attributes %}
    <h3>Атрибуты</h3>
    {% for attribute in attributes %}
        <div class="form-group">
            <label for="attribute_{{ attribute.id }}">{{ attribute.name }}</label>
            <input type="text" name="attribute_{{ attribute.id }}" class="form-control">
        </div>
    {% endfor %}
    {% endif %}

    <button type="submit" class="btn btn-primary">Создать</button>
</form>

<a href="{% url 'admin_panel:product_list' %}" class="btn btn-secondary">Отмена</a>

{% endblock %}
